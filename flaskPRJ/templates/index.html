<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ title or '실시간 모니터링 서비스' }}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body { background:#0b1220; color:#e9eef6; }
    .navbar, .footer { background:#0f172a; }
    .brand-gradient { background: linear-gradient(135deg, #60a5fa, #a78bfa); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .frame-wrap { border-radius: 0.75rem; overflow: hidden; box-shadow: 0 6px 20px rgba(0,0,0,.35); background:#0a0f1c; }
    .card-soft { background:#0f172a; border:1px solid rgba(255,255,255,.06); border-radius:0.75rem; }
    .btn-wide { display:block; width:100%; border:none; padding:1.1rem; background:#1e293b; color:#e9eef6; font-size:1.15rem; font-weight:500; text-align:center; text-decoration:none; border-radius:0 0 0.75rem 0.75rem; }
    .btn-wide:hover { background:#334155; color:#fff; }
    .video-box { max-width: 960px; margin:0 auto; }
    .video-box img { width:100%; height:auto; aspect-ratio:16/9; object-fit:cover; }
    .hint { color:#9fb0c7; }
    .section-tight { padding-top:2rem; padding-bottom:1rem; }

    /* ▼ 파라미터 표시(왼쪽 정렬 + 히어로 설명과 동일한 크기) */
    .meta-info {
      color:#9fb0c7;            /* hint 컬러 */
      font-size:1rem;           /* 히어로 설명(p.hint)와 동일한 크기 */
      line-height:1.35;
      text-align:left;          /* 왼쪽 정렬 */
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container py-2">
      <a class="navbar-brand fw-bold" href="#">Vision Monitor</a>
    </div>
  </nav>

  <section class="section-tight text-center container">
    <div class="row">
      <div class="col-lg-10 col-md-10 mx-auto">
        <h1 class="h3 fw-semibold mb-2">화면 거리유지 및 졸음방지 실시간 모니터링</h1>
        <!-- <h1 class="h3 fw-semibold mb-2">Flask × OpenCV <span class="brand-gradient">실시간 모니터링</span></h1> -->
        <p class="hint mb-3">거리유지, 졸음감지, 휴식사이클이 적용된 웹캠 스트림을 실시간 중계</p>
      </div>
    </div>
  </section>

  <div class="container video-box">
    <div class="card-soft mb-0">
      <!-- 파라미터 정보: 왼쪽 정렬 + 큰 글씨 -->
      <div class="px-3 pt-3 meta-info" style="padding-bottom: 16px;">
        <div>거리판정값 = {{ distance_check }}, 졸음판정값 = {{ blink_check }},
          휴식시간 간격 : {{ "%02d"|format( (restTerm|int) // 60) }}분, 휴식시간 :  {{ "%02d"|format( (restTime|int) // 60) }}분</div>
      </div>

      <div class="frame-wrap">
        <img class="d-block" alt="stream"
             src="{{ url_for('video_feed',
                             distance_check = distance_check,
                             blink_check = blink_check,
                             sleepCheckTime = sleepCheckTime,
                             nearCheckTime = nearCheckTime,
                             restTerm = restTerm,
                             restTime = restTime,
                             mNear = mNear,
                             mSleep = mSleep,
                             mRestStart = mRestStart,
                             mRestEnd = mRestEnd) }}" />
      </div>

      <a class="btn-wide" href="{{ url_for('getResult') }}">모니터링 종료 & 결과 보기</a>
    </div>
  </div>

  <footer class="footer py-4 mt-5">
    <div class="container text-center hint small">© {{ 2025 }} Vision Monitor · Flask & OpenCV</div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
